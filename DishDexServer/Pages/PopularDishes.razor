@page "/Popular"
@using DishDexServer.Shared;

<PageTitle>DishDex • Popular Dishes</PageTitle>

<MudText Typo="Typo.h3" Align="Align.Center" GutterBottom><b>Popular Dishes</b></MudText>

<MudPaper Width="100%" Elevation="6">
    <MudContainer Fixed="true">
        <RandomDishesRow/>
    </MudContainer>
</MudPaper>

@code {
    private Meal MealList { get; set; }

    [CascadingParameter] string identity { get; set; }

    protected override async Task OnInitializedAsync()
    {
        MealList = new Meal();

        var result = await client.GetFromJsonAsync<Content>("https://www.themealdb.com/api/json/v1/1/random.php");
        if (result != null)
            MealList = result.Meals.FirstOrDefault();
    }

}
